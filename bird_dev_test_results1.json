{
  "final_metrics": {
    "total_samples": 50,
    "total_processing_time": 304.6433560848236,
    "avg_processing_time": 6.0928671216964725,
    "exact_match_rate": 0.0,
    "partial_match_rate": 0.046875,
    "condition_match_rate": 0.046875,
    "operation_match_rate": 0.0,
    "samples_with_rules_rate": 1.0,
    "avg_rules_per_sample": 4.94,
    "avg_ground_truth_rules": 2.56
  },
  "total_metrics": {
    "num_generated": 247,
    "num_ground_truth": 128,
    "exact_match": 0,
    "partial_match": 6,
    "condition_match": 6,
    "operation_match": 0,
    "samples_with_rules": 50,
    "samples_without_rules": 0,
    "total_time": 304.6278862953186
  },
  "detailed_results": [
    {
      "sample_id": 1,
      "question": "What is the highest eligible free rate for K-12 students in the schools in Alameda County?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"highest eligible free rate for K-12 students\"",
          "operation": "calculate Free Meal Count (K-12) divided by Enrollment (K-12) instead of selecting a pre-calculated free_rate column."
        },
        {
          "condition": "When the question mentions \"schools\"",
          "operation": "query from table \"frpm\" instead of \"schools\"."
        },
        {
          "condition": "When the question mentions \"schools\"",
          "operation": "use \"schools AS T1\" as the base table."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"highest eligible free rate\"",
          "operation": "use the exact column name \"Percent (%) Eligible Free (K-12)\" from the frpm table."
        },
        {
          "condition": "When the question mentions \"Alameda County\"",
          "operation": "use the exact column name \"County Name\" from the frpm table with the literal value \"Alameda\"."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"highest eligible free rate\"\nOperation: use the exact column name \"Percent (%) Eligible Free (K-12)\" from the frpm table.\n\nRule 2:\nCondition: When the question mentions \"Alameda County\"\nOperation: use the exact column name \"County Name\" from the frpm table with the literal value \"Alameda\".",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 3.2659502029418945
    },
    {
      "sample_id": 2,
      "question": "Please list the lowest three eligible free rates for students aged 5-17 in continuation schools.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When the question asks for \"eligible free rates\"",
          "operation": "calculate the ratio of \"Free Meal Count (Ages 5-17)\" divided by \"Enrollment (Ages 5-17)\" instead of selecting a precomputed rate column."
        },
        {
          "condition": "When the question asks for \"lowest three\" rates",
          "operation": "order the calculated ratio in ascending order and keep the first 3 rows."
        },
        {
          "condition": "When answering about \"lowest three eligible free rates\"",
          "operation": "make sure the output order: the eligible free rate in ascending order and keep only the first 3 rows."
        },
        {
          "condition": "When the question mentions \"eligible free rates for students aged 5-17\"",
          "operation": "compute \"Free Meal Count (Ages 5-17)\" divided by \"Enrollment (Ages 5-17)\" as the rate."
        },
        {
          "condition": "When the question mentions \"continuation schools\"",
          "operation": "filter for rows where \"Educational Option Type\" equals exactly 'Continuation School'."
        },
        {
          "condition": "When ordering by calculated rates",
          "operation": "reference the division expression directly in the ORDER BY clause instead of using an alias."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"lowest three eligible free rates\"",
          "operation": "rank rows by \"Percent (%) Eligible Free (Ages 5-17)\" in ascending order and keep the first 3 rows."
        },
        {
          "condition": "When the question mentions \"continuation schools\"",
          "operation": "filter rows where \"District Type\" equals exactly 'Continuation School'."
        },
        {
          "condition": "When the question asks for \"lowest three eligible free rates\"",
          "operation": "rank rows by \"Percent (%) Eligible Free (Ages 5-17)\" in ascending order and keep the first 3 rows."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"lowest three eligible free rates\"\nOperation: rank rows by \"Percent (%) Eligible Free (Ages 5-17)\" in ascending order and keep the first 3 rows.\n\nRule 2:\nCondition: When the question mentions \"continuation schools\"\nOperation: filter rows where \"District Type\" equals exactly 'Continuation School'.\n\nRule 3:\nCondition: When the question asks for \"lowest three eligible free rates\"\nOperation: rank rows by \"Percent (%) Eligible Free (Ages 5-17)\" in ascending order and keep the first 3 rows.",
      "metrics": {
        "num_generated": 3,
        "num_ground_truth": 6,
        "exact_match": 0,
        "partial_match": 1,
        "condition_match": 1,
        "operation_match": 0
      },
      "processing_time": 4.52927041053772
    },
    {
      "sample_id": 3,
      "question": "Please list the zip code of all the charter schools in Fresno County Office of Education.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about charter schools in Fresno County Office of Education",
          "operation": "use \"T2.Zip\" instead of \"zip_code\" for the zip code output."
        },
        {
          "condition": "When the question asks for charter schools in a specific county office of education",
          "operation": "filter rows where \"District Name\" exactly matches the specified county office name like 'Fresno County Office of Education'."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\" from the schools table."
        },
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\" from the schools table."
        },
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\" from the schools table."
        },
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\" from the schools table."
        },
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\" from the schools table."
        },
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\" from the schools table."
        },
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\" from the schools table."
        },
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\" from the schools table."
        },
        {
          "condition": "When the question asks for zip codes",
          "operation": "use the exact column name \"Zip\""
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\" from the schools table.\n\nRule 2:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\" from the schools table.\n\nRule 3:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\" from the schools table.\n\nRule 4:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\" from the schools table.\n\nRule 5:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\" from the schools table.\n\nRule 6:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\" from the schools table.\n\nRule 7:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\" from the schools table.\n\nRule 8:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\" from the schools table.\n\nRule 9:\nCondition: When the question asks for zip codes\nOperation: use the exact column name \"Zip\"",
      "metrics": {
        "num_generated": 9,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.645261764526367
    },
    {
      "sample_id": 4,
      "question": "What is the unabbreviated mailing street address of the school with the highest FRPM count for K-12 students?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"mailing street address\"",
          "operation": "make sure to select \"T2.MailStreet\" instead of \"mailing_street_address\"."
        },
        {
          "condition": "When the question mentions \"highest FRPM count for K-12 students\"",
          "operation": "rank rows by \"T1.FRPM Count (K-12)\" in descending order and keep the first 1 row."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"unabbreviated mailing street address\"",
          "operation": "use the exact column token \"mailstreet\" from the schools table instead of \"mailing_street_address\"."
        },
        {
          "condition": "When the question asks for \"highest FRPM count for K-12 students\"",
          "operation": "use the exact column token \"FRPM Count (K-12)\" from the frpm table instead of \"frpm_count_k12\"."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"unabbreviated mailing street address\"\nOperation: use the exact column token \"mailstreet\" from the schools table instead of \"mailing_street_address\".\n\nRule 2:\nCondition: When the question asks for \"highest FRPM count for K-12 students\"\nOperation: use the exact column token \"FRPM Count (K-12)\" from the frpm table instead of \"frpm_count_k12\".",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 4.250018119812012
    },
    {
      "sample_id": 5,
      "question": "Please list the phone numbers of the direct charter-funded schools that are opened after 2000/1/1.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about phone numbers of direct charter-funded schools",
          "operation": "use \"T2.Phone\" as the output column instead of \"phone_number\"."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\""
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 2:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 3:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 4:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 5:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 6:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 7:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 8:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 9:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\"",
      "metrics": {
        "num_generated": 9,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 9.381844520568848
    },
    {
      "sample_id": 6,
      "question": "How many schools with an average score in Math greater than 400 in the SAT test are exclusively virtual?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools with SAT math scores greater than 400",
          "operation": "join \"satscores\" as T1 with \"schools\" as T2 where T1.cds = T2.CDSCode to combine score and school information."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about \"schools with an average score in Math greater than 400 in the SAT test\"",
          "operation": "make sure the output order: count of schools."
        },
        {
          "condition": "When the question mentions \"exclusively virtual\"",
          "operation": "\"exclusively virtual\" actually means \"Virtual = 'Yes'\" in the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about \"schools with an average score in Math greater than 400 in the SAT test\"\nOperation: make sure the output order: count of schools.\n\nRule 2:\nCondition: When the question mentions \"exclusively virtual\"\nOperation: \"exclusively virtual\" actually means \"Virtual = 'Yes'\" in the schools table.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.8461010456085205
    },
    {
      "sample_id": 7,
      "question": "Among the schools with the SAT test takers of over 500, please list the schools that are magnet schools or offer a magnet program.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools with SAT test takers over 500",
          "operation": "use T1.NumTstTakr > 500 as the filter condition instead of sat_takers > 500."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for schools with SAT test takers over 500",
          "operation": "filter rows where \"NumTstTakr\" > 500."
        },
        {
          "condition": "When the question asks for schools that are magnet schools or offer a magnet program",
          "operation": "filter rows where \"Magnet\" = 1."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for schools with SAT test takers over 500\nOperation: filter rows where \"NumTstTakr\" > 500.\n\nRule 2:\nCondition: When the question asks for schools that are magnet schools or offer a magnet program\nOperation: filter rows where \"Magnet\" = 1.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.846811532974243
    },
    {
      "sample_id": 8,
      "question": "What is the phone number of the school that has the highest number of test takers with an SAT score of over 1500?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about phone number of a school",
          "operation": "select \"T2.Phone\" from the schools table instead of phone_number."
        },
        {
          "condition": "When the question asks for the school with highest number of test takers with SAT score over 1500",
          "operation": "order by T1.NumGE1500 in descending direction and keep the first row."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about \"phone number of the school with highest number of test takers with SAT score over 1500\"",
          "operation": "make sure the output order: T1.Phone."
        },
        {
          "condition": "When the question mentions \"highest number of test takers\"",
          "operation": "rank rows by T2.NumGE1500 in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question mentions \"SAT score of over 1500\"",
          "operation": "filter rows where T2.NumGE1500 > 0."
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about \"phone number of the school with highest number of test takers with SAT score over 1500\"\nOperation: make sure the output order: T1.Phone.\n\nRule 2:\nCondition: When the question mentions \"highest number of test takers\"\nOperation: rank rows by T2.NumGE1500 in descending order and keep the first 1 row.\n\nRule 3:\nCondition: When the question mentions \"SAT score of over 1500\"\nOperation: filter rows where T2.NumGE1500 > 0.",
      "metrics": {
        "num_generated": 3,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 4.375497341156006
    },
    {
      "sample_id": 9,
      "question": "What is the number of SAT test takers of the schools with the highest FRPM count for K-12 students?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"number of SAT test takers\"",
          "operation": "select \"NumTstTakr\" from table \"satscores\" instead of counting all rows."
        },
        {
          "condition": "When the question mentions \"schools with the highest FRPM count\"",
          "operation": "find the school with maximum \"FRPM Count (K-12)\" value from table \"frpm\" and get its \"CDSCode\" using descending order with limit 1."
        },
        {
          "condition": "When the question specifies \"K-12 students\"",
          "operation": "use the column \"FRPM Count (K-12)\" which already represents K-12 data, so no additional grade level filter is needed."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"number of SAT test takers\"",
          "operation": "use the exact column \"NumTstTakr\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"highest FRPM count for K-12 students\"",
          "operation": "use the exact column \"FRPM Count (K-12)\" from the frpm table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"number of SAT test takers\"\nOperation: use the exact column \"NumTstTakr\" from the satscores table.\n\nRule 2:\nCondition: When the question asks for \"highest FRPM count for K-12 students\"\nOperation: use the exact column \"FRPM Count (K-12)\" from the frpm table.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 3.1075878143310547
    },
    {
      "sample_id": 10,
      "question": "Among the schools with the average score in Math over 560 in the SAT test, how many schools are directly charter-funded?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools with average math scores over 560",
          "operation": "use T1.AvgScrMath > 560 as the filter condition instead of math_score > 560."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks about schools with average math scores over 560",
          "operation": "use the exact column name \"AvgScrMath\" from the satscores table instead of \"math_score\"."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks about schools with average math scores over 560\nOperation: use the exact column name \"AvgScrMath\" from the satscores table instead of \"math_score\".",
      "metrics": {
        "num_generated": 1,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 1.8397631645202637
    },
    {
      "sample_id": 11,
      "question": "For the school with the highest average score in Reading in the SAT test, what is its FRPM count for students aged 5-17?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"school with the highest average score in Reading\"",
          "operation": "rank schools by T1.AvgScrRead in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks for \"FRPM count for students aged 5-17\"",
          "operation": "use the exact column T2.\"FRPM Count (Ages 5-17)\" instead of FRPM_5_17."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about \"highest average score in Reading\"",
          "operation": "make sure the output order: T1.FRPM Count (Ages 5-17)."
        },
        {
          "condition": "When the question mentions \"school with the highest average score in Reading\"",
          "operation": "rank rows by T2.AvgScrRead in descending order and keep the first 1 row."
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about \"highest average score in Reading\"\nOperation: make sure the output order: T1.FRPM Count (Ages 5-17).\n\nRule 2:\nCondition: When the question mentions \"school with the highest average score in Reading\"\nOperation: rank rows by T2.AvgScrRead in descending order and keep the first 1 row.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.978708505630493
    },
    {
      "sample_id": 12,
      "question": "Please list the codes of the schools with a total enrollment of over 500.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"schools with total enrollment over 500\"",
          "operation": "select \"T2.CDSCode\" as the output column instead of \"school_code\"."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for school codes",
          "operation": "use the exact column token \"CDSCode\" from the schools table."
        },
        {
          "condition": "When the question asks for school codes",
          "operation": "use the exact column token \"CDSCode\" from the schools table."
        },
        {
          "condition": "When the question asks for school codes",
          "operation": "use the exact column token \"CDSCode\" from the schools table."
        },
        {
          "condition": "When the question asks for school codes",
          "operation": "use the exact column token \"CDSCode\" from the schools table."
        },
        {
          "condition": "When the question asks for school codes",
          "operation": "use the exact column token \"CDSCode\" from the schools table."
        },
        {
          "condition": "When the question asks for school codes",
          "operation": "use the exact column token \"CDSCode\" from the schools table."
        },
        {
          "condition": "When the question asks for school codes",
          "operation": "use the exact column token \"CDSCode\" from the schools table."
        },
        {
          "condition": "When the question asks for school codes",
          "operation": "use the exact column token \"CDSCode\" from the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for school codes\nOperation: use the exact column token \"CDSCode\" from the schools table.\n\nRule 2:\nCondition: When the question asks for school codes\nOperation: use the exact column token \"CDSCode\" from the schools table.\n\nRule 3:\nCondition: When the question asks for school codes\nOperation: use the exact column token \"CDSCode\" from the schools table.\n\nRule 4:\nCondition: When the question asks for school codes\nOperation: use the exact column token \"CDSCode\" from the schools table.\n\nRule 5:\nCondition: When the question asks for school codes\nOperation: use the exact column token \"CDSCode\" from the schools table.\n\nRule 6:\nCondition: When the question asks for school codes\nOperation: use the exact column token \"CDSCode\" from the schools table.\n\nRule 7:\nCondition: When the question asks for school codes\nOperation: use the exact column token \"CDSCode\" from the schools table.\n\nRule 8:\nCondition: When the question asks for school codes\nOperation: use the exact column token \"CDSCode\" from the schools table.\n\nRule 9:\nCondition: When the",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.643758058547974
    },
    {
      "sample_id": 13,
      "question": "Among the schools with an SAT excellence rate of over 0.3, what is the highest eligible free rate for students aged 5-17?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools with SAT excellence rate over 0.3",
          "operation": "use T1 for frpm table and T2 for satscores table with inner join on T1.CDSCode = T2.cds."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"highest eligible free rate\"",
          "operation": "use the exact column token \"Percent (%) Eligible Free (Ages 5-17)\" instead of \"eligible_free_rate\"."
        },
        {
          "condition": "When the question asks for \"highest eligible free rate\"",
          "operation": "use the exact column token \"Percent (%) Eligible Free (Ages 5-17)\" instead of \"eligible_free_rate\"."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"highest eligible free rate\"\nOperation: use the exact column token \"Percent (%) Eligible Free (Ages 5-17)\" instead of \"eligible_free_rate\".\n\nRule 2:\nCondition: When the question asks for \"highest eligible free rate\"\nOperation: use the exact column token \"Percent (%) Eligible Free (Ages 5-17)\" instead of \"eligible_free_rate\".",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 3.335866928100586
    },
    {
      "sample_id": 14,
      "question": "Please list the phone numbers of the schools with the top 3 SAT excellence rate.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"phone numbers of schools with top SAT excellence rate\"",
          "operation": "make sure the output order: T1.Phone."
        },
        {
          "condition": "When the question mentions \"top 3\"",
          "operation": "rank rows by the excellence rate in descending order and keep the first 3 rows."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for phone numbers",
          "operation": "use the exact column token \"Phone\""
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 2:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 3:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 4:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 5:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 6:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 7:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 8:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 9:\nCondition: When the question asks for phone numbers\nOperation: use the exact column token \"Phone\"",
      "metrics": {
        "num_generated": 9,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.64324426651001
    },
    {
      "sample_id": 15,
      "question": "List the top five schools, by descending order, from the highest to the lowest, the most number of Enrollment (Ages 5-17). Please give their NCES school identification number.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about top schools by enrollment",
          "operation": "make sure the output order: T1.NCESSchool first, then T2.\"Enrollment (Ages 5-17)\""
        },
        {
          "condition": "When the question mentions \"NCES school identification number\"",
          "operation": "\"NCES school identification number\" actually means \"T1.NCESSchool\" in schema"
        },
        {
          "condition": "When the question mentions \"top five schools\" by \"Enrollment (Ages 5-17)\"",
          "operation": "rank rows by T2.\"Enrollment (Ages 5-17)\" in descending order and keep the first 5 rows"
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"top five schools\"",
          "operation": "rank rows by \"Enrollment (Ages 5-17)\" in descending order and keep the first 5 rows."
        },
        {
          "condition": "When the question asks for \"NCES school identification number\"",
          "operation": "use the exact column token \"NCESSchool\" from the frpm table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"top five schools\"\nOperation: rank rows by \"Enrollment (Ages 5-17)\" in descending order and keep the first 5 rows.\n\nRule 2:\nCondition: When the question asks for \"NCES school identification number\"\nOperation: use the exact column token \"NCESSchool\" from the frpm table.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.950894832611084
    },
    {
      "sample_id": 16,
      "question": "Which active district has the highest average score in Reading?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"active district has the highest average score in Reading\"",
          "operation": "make sure the output order: District, AvgScrRead"
        },
        {
          "condition": "When the question mentions \"active\"",
          "operation": "\"active\" actually means \"StatusType='Active' in schema\""
        },
        {
          "condition": "When the question mentions \"highest average score in Reading\"",
          "operation": "rank rows by AvgScrRead in descending direction and keep the first 1 row"
        },
        {
          "condition": "When the question mentions \"highest average score in Reading\"",
          "operation": "rank rows by AvgScrRead in descending direction and keep the first 1 row"
        },
        {
          "condition": "When answering about \"which active district has the highest average score in Reading\"",
          "operation": "make sure the output order includes only \"District\" column."
        },
        {
          "condition": "When the question mentions \"active district\"",
          "operation": "filter rows where T1.StatusType equals exactly 'Active'."
        },
        {
          "condition": "When the question mentions \"highest average score in Reading\"",
          "operation": "rank rows by T2.AvgScrRead in descending order and keep only the first 1 row."
        },
        {
          "condition": "When the question mentions \"highest average score in Reading\"",
          "operation": "rank rows by T2.AvgScrRead in descending order and keep only the first 1 row."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about \"highest average score in Reading\"",
          "operation": "make sure the output order: district, avgscrread."
        },
        {
          "condition": "When the question mentions \"active district\"",
          "operation": "\"active\" actually means \"status = 'Active'\" in the schools table."
        },
        {
          "condition": "When the question asks for \"highest average score\"",
          "operation": "rank rows by avgscrread in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question mentions \"active district\"",
          "operation": "\"active\" actually means \"status = 'Active'\" in the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about \"highest average score in Reading\"\nOperation: make sure the output order: district, avgscrread.\n\nRule 2:\nCondition: When the question mentions \"active district\"\nOperation: \"active\" actually means \"status = 'Active'\" in the schools table.\n\nRule 3:\nCondition: When the question asks for \"highest average score\"\nOperation: rank rows by avgscrread in descending order and keep the first 1 row.\n\nRule 4:\nCondition: When the question mentions \"active district\"\nOperation: \"active\" actually means \"status = 'Active'\" in the schools table.",
      "metrics": {
        "num_generated": 4,
        "num_ground_truth": 8,
        "exact_match": 0,
        "partial_match": 1,
        "condition_match": 1,
        "operation_match": 0
      },
      "processing_time": 4.5391106605529785
    },
    {
      "sample_id": 17,
      "question": "How many schools in merged Alameda have number of test takers less than 100?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When the question mentions \"schools\"",
          "operation": "query from table \"frpm\" instead of \"schools\"."
        },
        {
          "condition": "When answering about \"schools in merged Alameda\"",
          "operation": "make sure the output order: COUNT(T1.CDSCode)."
        },
        {
          "condition": "When the question mentions \"schools\"",
          "operation": "use \"schools AS T1\" as the base table."
        },
        {
          "condition": "When the question mentions \"number of test takers\"",
          "operation": "\"number of test takers\" actually means \"T2.NumTstTakr in schema\"."
        },
        {
          "condition": "When the question asks for \"count of schools\"",
          "operation": "compute the number of rows using T1.CDSCode as the counting key."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question mentions \"merged Alameda\"",
          "operation": "\"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema."
        },
        {
          "condition": "When the question mentions \"merged Alameda\"",
          "operation": "\"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema."
        },
        {
          "condition": "When the question mentions \"merged Alameda\"",
          "operation": "\"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema."
        },
        {
          "condition": "When the question mentions \"merged Alameda\"",
          "operation": "\"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema."
        },
        {
          "condition": "When the question mentions \"merged Alameda\"",
          "operation": "\"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema."
        },
        {
          "condition": "When the question mentions \"merged Alameda\"",
          "operation": "\"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema."
        },
        {
          "condition": "When the question mentions \"merged Alameda\"",
          "operation": "\"merged Alameda\" actually means \"T1.County = 'Alameda'\""
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question mentions \"merged Alameda\"\nOperation: \"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema.\n\nRule 2:\nCondition: When the question mentions \"merged Alameda\"\nOperation: \"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema.\n\nRule 3:\nCondition: When the question mentions \"merged Alameda\"\nOperation: \"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema.\n\nRule 4:\nCondition: When the question mentions \"merged Alameda\"\nOperation: \"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema.\n\nRule 5:\nCondition: When the question mentions \"merged Alameda\"\nOperation: \"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema.\n\nRule 6:\nCondition: When the question mentions \"merged Alameda\"\nOperation: \"merged Alameda\" actually means \"T1.County = 'Alameda'\" in schema.\n\nRule 7:\nCondition: When the question mentions \"merged Alameda\"\nOperation: \"merged Alameda\" actually means \"T1.County = 'Alameda'\"",
      "metrics": {
        "num_generated": 7,
        "num_ground_truth": 5,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.6602942943573
    },
    {
      "sample_id": 18,
      "question": "Rank schools by their average score in Writing where the score is greater than 499, showing their charter numbers.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about ranking schools by average writing score",
          "operation": "use the exact column name \"AvgScrWrite\" from table satscores instead of \"writing_score\"."
        },
        {
          "condition": "When the question mentions \"charter numbers\"",
          "operation": "use the exact column name \"CharterNum\" from table schools instead of \"charter_number\"."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"charter numbers\"",
          "operation": "use the exact column token \"Charter_School_Number\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"charter numbers\"",
          "operation": "use the exact column token \"Charter_School_Number\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"charter numbers\"",
          "operation": "use the exact column token \"Charter_School_Number\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"charter numbers\"",
          "operation": "use the exact column token \"Charter_School_Number\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"charter numbers\"",
          "operation": "use the exact column token \"Charter_School_Number\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"charter numbers\"",
          "operation": "use the exact column token \"Charter_School_Number\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"charter numbers\"",
          "operation": "use the exact column token \"Charter_School_Number\" from the frpm table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"charter numbers\"\nOperation: use the exact column token \"Charter_School_Number\" from the frpm table.\n\nRule 2:\nCondition: When the question asks for \"charter numbers\"\nOperation: use the exact column token \"Charter_School_Number\" from the frpm table.\n\nRule 3:\nCondition: When the question asks for \"charter numbers\"\nOperation: use the exact column token \"Charter_School_Number\" from the frpm table.\n\nRule 4:\nCondition: When the question asks for \"charter numbers\"\nOperation: use the exact column token \"Charter_School_Number\" from the frpm table.\n\nRule 5:\nCondition: When the question asks for \"charter numbers\"\nOperation: use the exact column token \"Charter_School_Number\" from the frpm table.\n\nRule 6:\nCondition: When the question asks for \"charter numbers\"\nOperation: use the exact column token \"Charter_School_Number\" from the frpm table.\n\nRule 7:\nCondition: When the question asks for \"charter numbers\"\nOperation: use the exact column token \"Charter_School_Number\" from the frpm table.\n\nRule 8:",
      "metrics": {
        "num_generated": 7,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.673225402832031
    },
    {
      "sample_id": 19,
      "question": "What is the phone number of the school that has the highest average score in Math?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"phone number of the school with highest average math score\"",
          "operation": "make sure the output order: T1.Phone."
        },
        {
          "condition": "When the question mentions \"school\"",
          "operation": "use table \"schools AS T1\" with exact alias T1."
        },
        {
          "condition": "When the question mentions \"average score in Math\"",
          "operation": "use column T2.AvgScrMath from table \"satscores AS T2\"."
        },
        {
          "condition": "When the question mentions \"school\"",
          "operation": "\"school\" actually means \"sname in satscores table\"."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"phone number\"",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for \"phone number\"",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for \"phone number\"",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for \"phone number\"",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for \"phone number\"",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for \"phone number\"",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for \"phone number\"",
          "operation": "use the exact column token \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for \"phone number\"",
          "operation": "use the exact column token \"Phone\" from the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"phone number\"\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 2:\nCondition: When the question asks for \"phone number\"\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 3:\nCondition: When the question asks for \"phone number\"\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 4:\nCondition: When the question asks for \"phone number\"\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 5:\nCondition: When the question asks for \"phone number\"\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 6:\nCondition: When the question asks for \"phone number\"\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 7:\nCondition: When the question asks for \"phone number\"\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 8:\nCondition: When the question asks for \"phone number\"\nOperation: use the exact column token \"Phone\" from the schools table.\n\nRule 9:\nCondition: When the question asks for \"phone number\"\nOperation",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 4,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.667475938796997
    },
    {
      "sample_id": 20,
      "question": "In Los Angeles how many schools have more than 500 free meals but less than 700 free or reduced price meals for K-12?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools in Los Angeles",
          "operation": "use \"County Name\" = 'Los Angeles' instead of city = 'Los Angeles'"
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks about schools in Los Angeles",
          "operation": "filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema."
        },
        {
          "condition": "When the question asks about schools in Los Angeles",
          "operation": "filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema."
        },
        {
          "condition": "When the question asks about schools in Los Angeles",
          "operation": "filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema."
        },
        {
          "condition": "When the question asks about schools in Los Angeles",
          "operation": "filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema."
        },
        {
          "condition": "When the question asks about schools in Los Angeles",
          "operation": "filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema."
        },
        {
          "condition": "When the question asks about schools in Los Angeles",
          "operation": "filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema."
        },
        {
          "condition": "When the question asks about schools in Los Angeles",
          "operation": "filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks about schools in Los Angeles\nOperation: filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema.\n\nRule 2:\nCondition: When the question asks about schools in Los Angeles\nOperation: filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema.\n\nRule 3:\nCondition: When the question asks about schools in Los Angeles\nOperation: filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema.\n\nRule 4:\nCondition: When the question asks about schools in Los Angeles\nOperation: filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema.\n\nRule 5:\nCondition: When the question asks about schools in Los Angeles\nOperation: filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema.\n\nRule 6:\nCondition: When the question asks about schools in Los Angeles\nOperation: filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema.\n\nRule 7:\nCondition: When the question asks about schools in Los Angeles\nOperation: filter on \"County Name\" = 'Los Angeles' exactly as specified in the schema.\n\nRule 8:",
      "metrics": {
        "num_generated": 7,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.67229413986206
    },
    {
      "sample_id": 21,
      "question": "Which school in Contra Costa has the highest number of test takers?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When the question mentions \"school\"",
          "operation": "use table \"schools AS T1\" with exact alias T1."
        },
        {
          "condition": "When answering about \"school in Contra Costa with highest number of test takers\"",
          "operation": "make sure the output order: sname only."
        },
        {
          "condition": "When the question mentions \"school\"",
          "operation": "\"school\" actually means \"sname in satscores table\"."
        },
        {
          "condition": "When the question mentions \"Contra Costa\"",
          "operation": "\"Contra Costa\" actually means \"cname = 'Contra Costa' in satscores table\"."
        },
        {
          "condition": "When the question mentions \"highest number of test takers\"",
          "operation": "\"test takers\" actually means \"NumTstTakr in satscores table\" and rank rows by NumTstTakr in descending direction and keep the first 1 row."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"highest number of test takers\"",
          "operation": "rank rows by \"NumTstTakr\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question mentions \"school in Contra Costa\"",
          "operation": "filter rows where \"County\" equals exactly \"Contra Costa\"."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"highest number of test takers\"\nOperation: rank rows by \"NumTstTakr\" in descending order and keep the first 1 row.\n\nRule 2:\nCondition: When the question mentions \"school in Contra Costa\"\nOperation: filter rows where \"County\" equals exactly \"Contra Costa\".",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 5,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.7896549701690674
    },
    {
      "sample_id": 22,
      "question": "List the names of schools with more than 30 difference in enrollements between K-12 and ages 5-17? Please also give the full street adress of the schools.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools with enrollment differences",
          "operation": "make sure the output order: T1.School, T1.Street"
        },
        {
          "condition": "When the question mentions \"names of schools\"",
          "operation": "\"names\" actually means \"T1.School in schema\""
        },
        {
          "condition": "When the question mentions \"full street address\"",
          "operation": "\"full street address\" actually means \"T1.Street in schema\""
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school_name\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school_name\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school_name\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school_name\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school_name\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school_name\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school_name\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school_name\" from the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school_name\" from the schools table.\n\nRule 2:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school_name\" from the schools table.\n\nRule 3:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school_name\" from the schools table.\n\nRule 4:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school_name\" from the schools table.\n\nRule 5:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school_name\" from the schools table.\n\nRule 6:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school_name\" from the schools table.\n\nRule 7:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school_name\" from the schools table.\n\nRule 8:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school_name\" from the schools table.\n\nRule 9:\nCondition: When the question asks for school names\nOperation:",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.679094791412354
    },
    {
      "sample_id": 23,
      "question": "Name schools in Riverside which the average of average math score for SAT is grater than 400, what is the funding type of these schools?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools in Riverside",
          "operation": "use \"T2.District Name LIKE 'Riverside%'\" instead of \"city = 'Riverside'\" for filtering."
        },
        {
          "condition": "When the question asks for school names and funding types",
          "operation": "select both \"T1.sname\" and \"T2.Charter Funding Type\" in the output."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "return the \"School\" column instead of \"school_name\"."
        },
        {
          "condition": "When the question asks for school name",
          "operation": "use column alias \"School\" instead of \"school_name\"."
        },
        {
          "condition": "When the question asks for school name",
          "operation": "use column \"School\" instead of \"school_name\"."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for schools in Riverside",
          "operation": "filter on T1.county = \"Riverside\" exactly as specified."
        },
        {
          "condition": "When the question asks for schools in Riverside",
          "operation": "filter on T1.county = \"Riverside\" exactly as specified."
        },
        {
          "condition": "When the question asks for schools in Riverside",
          "operation": "filter on T1.county = \"Riverside\" exactly as specified."
        },
        {
          "condition": "When the question asks for schools in Riverside",
          "operation": "filter on T1.county = \"Riverside\" exactly as specified."
        },
        {
          "condition": "When the question asks for schools in Riverside",
          "operation": "filter on T1.county = \"Riverside\" exactly as specified."
        },
        {
          "condition": "When the question asks for schools in Riverside",
          "operation": "filter on T1.county = \"Riverside\" exactly as specified."
        },
        {
          "condition": "When the question asks for schools in Riverside",
          "operation": "filter on T1.county = \"Riverside\" exactly as specified."
        },
        {
          "condition": "When the question asks for schools in Riverside",
          "operation": "filter on T1.county = \""
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for schools in Riverside\nOperation: filter on T1.county = \"Riverside\" exactly as specified.\n\nRule 2:\nCondition: When the question asks for schools in Riverside\nOperation: filter on T1.county = \"Riverside\" exactly as specified.\n\nRule 3:\nCondition: When the question asks for schools in Riverside\nOperation: filter on T1.county = \"Riverside\" exactly as specified.\n\nRule 4:\nCondition: When the question asks for schools in Riverside\nOperation: filter on T1.county = \"Riverside\" exactly as specified.\n\nRule 5:\nCondition: When the question asks for schools in Riverside\nOperation: filter on T1.county = \"Riverside\" exactly as specified.\n\nRule 6:\nCondition: When the question asks for schools in Riverside\nOperation: filter on T1.county = \"Riverside\" exactly as specified.\n\nRule 7:\nCondition: When the question asks for schools in Riverside\nOperation: filter on T1.county = \"Riverside\" exactly as specified.\n\nRule 8:\nCondition: When the question asks for schools in Riverside\nOperation: filter on T1.county = \"",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 5,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.67180609703064
    },
    {
      "sample_id": 24,
      "question": "State the names and full communication address of high schools in Monterey which has more than 800 free or reduced price meals for ages 15-17?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about high schools in Monterey",
          "operation": "use T1.School Name, T2.Street, T2.City, T2.State, and T2.Zip as output columns in that order."
        },
        {
          "condition": "When the question mentions \"Monterey\"",
          "operation": "filter on T2.County = 'Monterey' exactly."
        },
        {
          "condition": "When the question mentions \"more than 800 free or reduced price meals\"",
          "operation": "filter on T1.\"Free Meal Count (Ages 5-17)\" > 800."
        },
        {
          "condition": "When the question mentions \"high schools\"",
          "operation": "filter on T1.\"School Type\" = 'High Schools (Public)' exactly."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about high schools in Monterey",
          "operation": "join schools AS T1 with frpm AS T2 on T1.CDSCode = T2.CDSCode to combine school and financial data."
        },
        {
          "condition": "When answering about high schools in Monterey",
          "operation": "join schools AS T1 with frpm AS T2 on T1.CDSCode = T2.CDSCode to combine school and financial data."
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about high schools in Monterey\nOperation: join schools AS T1 with frpm AS T2 on T1.CDSCode = T2.CDSCode to combine school and financial data.\n\nRule 2:\nCondition: When answering about high schools in Monterey\nOperation: join schools AS T1 with frpm AS T2 on T1.CDSCode = T2.CDSCode to combine school and financial data.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 4,
        "exact_match": 0,
        "partial_match": 1,
        "condition_match": 1,
        "operation_match": 0
      },
      "processing_time": 3.35029935836792
    },
    {
      "sample_id": 25,
      "question": "What is the average score in writing for the schools that were opened after 1991 or closed before 2000? List the school names along with the score. Also, list the communication number of the schools if there is any.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the pre-computed average T1.AvgScrWrite instead of calculating an average from raw scores."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for average score in writing",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column name \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for communication number",
          "operation": "use the exact column name \"Phone\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "use the"
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for average score in writing\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 2:\nCondition: When the question asks for school names\nOperation: use the exact column name \"school\" from the schools table.\n\nRule 3:\nCondition: When the question asks for communication number\nOperation: use the exact column name \"Phone\" from the schools table.\n\nRule 4:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 5:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 6:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 7:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 8:\nCondition: When the question asks for school names\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 9:\nCondition: When the question asks for school names\nOperation: use the",
      "metrics": {
        "num_generated": 9,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.683130025863647
    },
    {
      "sample_id": 26,
      "question": "Consider the average difference between K-12 enrollment and 15-17 enrollment of schools that are locally funded, list the names and DOC type of schools which has a difference above this average.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about school names and DOC types",
          "operation": "select \"T2.School\" and \"T2.DOC\" as output columns."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"names and DOC type of schools\"",
          "operation": "use the exact column names \"school\" and \"DOCType\" from the schools table."
        },
        {
          "condition": "When the question asks for \"names and DOC type of schools\"",
          "operation": "use the exact column names \"school\" and \"DOCType\" from the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"names and DOC type of schools\"\nOperation: use the exact column names \"school\" and \"DOCType\" from the schools table.\n\nRule 2:\nCondition: When the question asks for \"names and DOC type of schools\"\nOperation: use the exact column names \"school\" and \"DOCType\" from the schools table.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.889590263366699
    },
    {
      "sample_id": 27,
      "question": "When did the first-through-twelfth-grade school with the largest enrollment open?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"first-through-twelfth-grade school with the largest enrollment\"",
          "operation": "use tables \"frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode\" instead of querying only schools."
        },
        {
          "condition": "When the question asks for the opening date of the school with largest enrollment",
          "operation": "select \"T2.OpenDate\" instead of MIN(open_date)."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks about \"first-through-twelfth-grade school\"",
          "operation": "use the exact column token \"Enrollment (K-12)\" from the frpm table instead of \"enrollment\"."
        },
        {
          "condition": "When the question asks about \"largest enrollment\"",
          "operation": "order by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks about \"largest enrollment\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks about \"largest enrollment\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks about \"largest enrollment\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks about \"largest enrollment\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks about \"first-through-twelfth-grade school\"\nOperation: use the exact column token \"Enrollment (K-12)\" from the frpm table instead of \"enrollment\".\n\nRule 2:\nCondition: When the question asks about \"largest enrollment\"\nOperation: order by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 3:\nCondition: When the question asks about \"largest enrollment\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 4:\nCondition: When the question asks about \"largest enrollment\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 5:\nCondition: When the question asks about \"largest enrollment\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 6:\nCondition: When the question asks about \"largest enrollment\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 7:\nCondition:",
      "metrics": {
        "num_generated": 6,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.674330949783325
    },
    {
      "sample_id": 28,
      "question": "Which cities have the top 5 lowest enrollment number for students in grades 1 through 12?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about cities with lowest enrollment",
          "operation": "use T2.City in the SELECT list without any alias for the city column."
        },
        {
          "condition": "When answering about \"cities with top 5 lowest enrollment number for students in grades 1 through 12\"",
          "operation": "make sure the output order includes only \"T2.City\" without the enrollment sum column."
        },
        {
          "condition": "When the question mentions \"enrollment number for students in grades 1 through 12\"",
          "operation": "\"enrollment\" actually means \"T1.\\\"Enrollment (K-12)\\\"\" in schema."
        },
        {
          "condition": "When the question asks for \"top 5 lowest enrollment\"",
          "operation": "rank rows by SUM(T1.\\\"Enrollment (K-12)\\\") in ascending order and keep the first 5 rows."
        },
        {
          "condition": "When the question says \"by cities\"/\"per city\"",
          "operation": "organize results by T2.City and compute enrollment sum per group."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"top 5 lowest enrollment number\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in ascending order and keep the first 5 rows."
        },
        {
          "condition": "When the question asks for \"top 5 lowest enrollment number\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in ascending order and keep the first 5 rows."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"top 5 lowest enrollment number\"\nOperation: rank rows by \"Enrollment (K-12)\" in ascending order and keep the first 5 rows.\n\nRule 2:\nCondition: When the question asks for \"top 5 lowest enrollment number\"\nOperation: rank rows by \"Enrollment (K-12)\" in ascending order and keep the first 5 rows.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 5,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 3.217339515686035
    },
    {
      "sample_id": 29,
      "question": "What is the eligible free rate of the 10th and 11th schools with the highest enrolment for students in grades 1 through 12?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about eligible free rate",
          "operation": "calculate it as CAST(\"Free Meal Count (K-12)\" AS REAL) / \"Enrollment (K-12)\" instead of using a precomputed column."
        },
        {
          "condition": "When referencing the schools data",
          "operation": "use table \"frpm\" instead of \"schools\"."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"eligible free rate\"",
          "operation": "use the exact column \"Percent (%) Eligible Free (K-12)\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"eligible free rate\"",
          "operation": "use the exact column \"Percent (%) Eligible Free (K-12)\" from the frpm table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"eligible free rate\"\nOperation: use the exact column \"Percent (%) Eligible Free (K-12)\" from the frpm table.\n\nRule 2:\nCondition: When the question asks for \"eligible free rate\"\nOperation: use the exact column \"Percent (%) Eligible Free (K-12)\" from the frpm table.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.957902431488037
    },
    {
      "sample_id": 30,
      "question": "What is the eligible free or reduced price meal rate for the top 5 schools in grades 1-12 with the highest free or reduced price meal count of the schools with the ownership code 66?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about eligible free or reduced price meal rate",
          "operation": "calculate the ratio CAST(T1.\"FRPM Count (K-12)\" AS REAL) / T1.\"Enrollment (K-12)\" instead of selecting school_name and free_or_reduced_price_meal_rate."
        },
        {
          "condition": "When the question mentions grades 1-12",
          "operation": "do not filter with grades LIKE '%1-12%' as the logic is handled through K-12 specific columns."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"eligible free or reduced price meal rate\"",
          "operation": "use the exact column name \"Percent (%) Eligible Free (K-12)\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"eligible free or reduced price meal count\"",
          "operation": "use the exact column name \"Free Meal Count (K-12)\" from the frpm table."
        },
        {
          "condition": "When the question asks for \"eligible free or reduced price meal rate\"",
          "operation": "use the exact column name \"Percent (%) Eligible Free (K-12)\" from the frpm table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"eligible free or reduced price meal rate\"\nOperation: use the exact column name \"Percent (%) Eligible Free (K-12)\" from the frpm table.\n\nRule 2:\nCondition: When the question asks for \"eligible free or reduced price meal count\"\nOperation: use the exact column name \"Free Meal Count (K-12)\" from the frpm table.\n\nRule 3:\nCondition: When the question asks for \"eligible free or reduced price meal rate\"\nOperation: use the exact column name \"Percent (%) Eligible Free (K-12)\" from the frpm table.",
      "metrics": {
        "num_generated": 3,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 4.689587593078613
    },
    {
      "sample_id": 31,
      "question": "If there are any, what are the websites address of the schools with a free meal count of 1,900-2,000 to students aged 5-17? Include the name of the school.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about school websites and names with free meal counts between 1900-2000",
          "operation": "select \"T2.Website\" and \"T1.School Name\" as output columns."
        },
        {
          "condition": "When the question asks for website addresses and school names",
          "operation": "make sure the output order is Website first, then School Name."
        },
        {
          "condition": "When referring to the \"School Name\" column",
          "operation": "use backticks for quoting as `School Name` instead of double quotes."
        },
        {
          "condition": "When referring to the \"Free Meal Count (Ages 5-17)\" column",
          "operation": "use backticks for quoting as `Free Meal Count (Ages 5-17)` instead of double quotes."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for websites of schools",
          "operation": "use the exact column token \"Website\" from the schools table."
        },
        {
          "condition": "When the question asks for websites of schools",
          "operation": "use the exact column token \"Website\" from the schools table."
        },
        {
          "condition": "When the question asks for websites of schools",
          "operation": "use the exact column token \"Website\" from the schools table."
        },
        {
          "condition": "When the question asks for websites of schools",
          "operation": "use the exact column token \"Website\" from the schools table."
        },
        {
          "condition": "When the question asks for websites of schools",
          "operation": "use the exact column token \"Website\" from the schools table."
        },
        {
          "condition": "When the question asks for websites of schools",
          "operation": "use the exact column token \"Website\" from the schools table."
        },
        {
          "condition": "When the question asks for websites of schools",
          "operation": "use the exact column token \"Website\" from the schools table."
        },
        {
          "condition": "When the question asks for websites of schools",
          "operation": "use the exact column token \"Website\" from the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for websites of schools\nOperation: use the exact column token \"Website\" from the schools table.\n\nRule 2:\nCondition: When the question asks for websites of schools\nOperation: use the exact column token \"Website\" from the schools table.\n\nRule 3:\nCondition: When the question asks for websites of schools\nOperation: use the exact column token \"Website\" from the schools table.\n\nRule 4:\nCondition: When the question asks for websites of schools\nOperation: use the exact column token \"Website\" from the schools table.\n\nRule 5:\nCondition: When the question asks for websites of schools\nOperation: use the exact column token \"Website\" from the schools table.\n\nRule 6:\nCondition: When the question asks for websites of schools\nOperation: use the exact column token \"Website\" from the schools table.\n\nRule 7:\nCondition: When the question asks for websites of schools\nOperation: use the exact column token \"Website\" from the schools table.\n\nRule 8:\nCondition: When the question asks for websites of schools\nOperation: use the exact column token \"Website\" from the schools table.\n\nRule 9:\nCondition: When the question asks for websites of schools\nOperation",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 4,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.683805227279663
    },
    {
      "sample_id": 32,
      "question": "What is the administrator's email address of the chartered school with the fewest students enrolled in grades 1 through 12?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about administrator email addresses",
          "operation": "select T2.AdmEmail1 instead of email from administrators table."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"administrator's email address\"",
          "operation": "use the exact column token \"AdmEmail1\" from the schools table."
        },
        {
          "condition": "When the question asks for \"administrator's email address\"",
          "operation": "use the exact column token \"AdmEmail1\" from the schools table."
        },
        {
          "condition": "When the question asks for \"administrator's email address\"",
          "operation": "use the exact column token \"AdmEmail1\" from the schools table."
        },
        {
          "condition": "When the question asks for \"administrator's email address\"",
          "operation": "use the exact column token \"AdmEmail1\" from the schools table."
        },
        {
          "condition": "When the question asks for \"administrator's email address\"",
          "operation": "use the exact column token \"AdmEmail1\" from the schools table."
        },
        {
          "condition": "When the question asks for \"administrator's email address\"",
          "operation": "use the exact column token \"AdmEmail1\" from the schools table."
        },
        {
          "condition": "When the question asks for \"administrator's email address\"",
          "operation": "use the exact column token \"AdmEmail1\" from the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"administrator's email address\"\nOperation: use the exact column token \"AdmEmail1\" from the schools table.\n\nRule 2:\nCondition: When the question asks for \"administrator's email address\"\nOperation: use the exact column token \"AdmEmail1\" from the schools table.\n\nRule 3:\nCondition: When the question asks for \"administrator's email address\"\nOperation: use the exact column token \"AdmEmail1\" from the schools table.\n\nRule 4:\nCondition: When the question asks for \"administrator's email address\"\nOperation: use the exact column token \"AdmEmail1\" from the schools table.\n\nRule 5:\nCondition: When the question asks for \"administrator's email address\"\nOperation: use the exact column token \"AdmEmail1\" from the schools table.\n\nRule 6:\nCondition: When the question asks for \"administrator's email address\"\nOperation: use the exact column token \"AdmEmail1\" from the schools table.\n\nRule 7:\nCondition: When the question asks for \"administrator's email address\"\nOperation: use the exact column token \"AdmEmail1\" from the schools table.\n\nRule 8:\nCondition: When the question asks for",
      "metrics": {
        "num_generated": 7,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.67840313911438
    },
    {
      "sample_id": 33,
      "question": "Under whose administration is the school with the highest number of students scoring 1500 or more on the SAT? Indicate their full names.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about administrator names for schools",
          "operation": "select the exact columns T2.AdmFName1, T2.AdmLName1, T2.AdmFName2, T2.AdmLName2, T2.AdmFName3, T2.AdmLName3 instead of a generic administrator_name field."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"full names\"",
          "operation": "use the exact column token \"T1.name_first\" for first name and \"T1.name_last\" for last name."
        },
        {
          "condition": "When the question asks for \"full names\"",
          "operation": "use the exact column tokens \"T1.name_first\" and \"T1.name_last\" instead of \"first_name\" and \"last_name\"."
        },
        {
          "condition": "When the question asks for \"full names\"",
          "operation": "use the exact column tokens \"T1.name_first\" and \"T1.name_last\" instead of \"first_name\" and \"last_name\"."
        },
        {
          "condition": "When the question asks for \"full names\"",
          "operation": "use the exact column tokens \"T1.name_first\" and \"T1.name_last\" instead of \"first_name\" and \"last_name\"."
        },
        {
          "condition": "When the question asks for \"full names\"",
          "operation": "use the exact column tokens \"T1.name_first\" and \"T1.name_last\" instead of \"first_name\" and \"last_name\"."
        },
        {
          "condition": "When the question asks for \"full names\"",
          "operation": "use the exact column tokens \"T1.name_first\" and \""
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"full names\"\nOperation: use the exact column token \"T1.name_first\" for first name and \"T1.name_last\" for last name.\n\nRule 2:\nCondition: When the question asks for \"full names\"\nOperation: use the exact column tokens \"T1.name_first\" and \"T1.name_last\" instead of \"first_name\" and \"last_name\".\n\nRule 3:\nCondition: When the question asks for \"full names\"\nOperation: use the exact column tokens \"T1.name_first\" and \"T1.name_last\" instead of \"first_name\" and \"last_name\".\n\nRule 4:\nCondition: When the question asks for \"full names\"\nOperation: use the exact column tokens \"T1.name_first\" and \"T1.name_last\" instead of \"first_name\" and \"last_name\".\n\nRule 5:\nCondition: When the question asks for \"full names\"\nOperation: use the exact column tokens \"T1.name_first\" and \"T1.name_last\" instead of \"first_name\" and \"last_name\".\n\nRule 6:\nCondition: When the question asks for \"full names\"\nOperation: use the exact column tokens \"T1.name_first\" and \"",
      "metrics": {
        "num_generated": 6,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.687763690948486
    },
    {
      "sample_id": 34,
      "question": "What is the complete address of the school with the lowest excellence rate? Indicate the Street, City, Zip and State.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about school addresses with lowest excellence rate",
          "operation": "make sure the output order: Street, City, Zip, State from the schools table."
        },
        {
          "condition": "When the question mentions \"excellence rate\"",
          "operation": "\"excellence rate\" actually means \"calculated ratio CAST(T1.NumGE1500 AS REAL) / T1.NumTstTakr in schema\"."
        },
        {
          "condition": "When the question asks for the school with the lowest excellence rate",
          "operation": "rank rows by the calculated ratio CAST(T1.NumGE1500 AS REAL) / T1.NumTstTakr in ascending order and keep the first 1 row."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"complete address\"",
          "operation": "include all address components (street, city, zip, state) in the output."
        },
        {
          "condition": "When the question asks for \"complete address\"",
          "operation": "include all address components (street, city, zip, state) in the output."
        },
        {
          "condition": "When the question asks for \"complete address\"",
          "operation": "include all address components (street, city, zip, state) in the output."
        },
        {
          "condition": "When the question asks for \"complete address\"",
          "operation": "include all address components (street, city, zip, state) in the output."
        },
        {
          "condition": "When the question asks for \"complete address\"",
          "operation": "include all address components (street, city, zip, state) in the output."
        },
        {
          "condition": "When the question asks for \"complete address\"",
          "operation": "include all address components (street, city, zip, state) in the output."
        },
        {
          "condition": "When the question asks for \"complete address\"",
          "operation": "include all address components (street, city, zip, state) in the output."
        },
        {
          "condition": "When the question asks for \"complete address\"",
          "operation": "include"
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"complete address\"\nOperation: include all address components (street, city, zip, state) in the output.\n\nRule 2:\nCondition: When the question asks for \"complete address\"\nOperation: include all address components (street, city, zip, state) in the output.\n\nRule 3:\nCondition: When the question asks for \"complete address\"\nOperation: include all address components (street, city, zip, state) in the output.\n\nRule 4:\nCondition: When the question asks for \"complete address\"\nOperation: include all address components (street, city, zip, state) in the output.\n\nRule 5:\nCondition: When the question asks for \"complete address\"\nOperation: include all address components (street, city, zip, state) in the output.\n\nRule 6:\nCondition: When the question asks for \"complete address\"\nOperation: include all address components (street, city, zip, state) in the output.\n\nRule 7:\nCondition: When the question asks for \"complete address\"\nOperation: include all address components (street, city, zip, state) in the output.\n\nRule 8:\nCondition: When the question asks for \"complete address\"\nOperation: include",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.67785096168518
    },
    {
      "sample_id": 35,
      "question": "What are the webpages for the Los Angeles County school that has between 2,000 and 3,000 test takers?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about school webpages",
          "operation": "select \"T2\".\"Website\" instead of \"webpage\" and use table alias \"T2\" for the schools table."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about \"webpages for Los Angeles County schools\"",
          "operation": "make sure the output order: website."
        },
        {
          "condition": "When the question mentions \"Los Angeles County\"",
          "operation": "\"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema."
        },
        {
          "condition": "When the question mentions \"test takers\"",
          "operation": "\"test takers\" actually means \"NumTstTakr\" in schema."
        },
        {
          "condition": "When the question mentions \"Los Angeles County\"",
          "operation": "\"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema."
        },
        {
          "condition": "When the question mentions \"Los Angeles County\"",
          "operation": "\"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema."
        },
        {
          "condition": "When the question mentions \"Los Angeles County\"",
          "operation": "\"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema."
        },
        {
          "condition": "When the question mentions \"Los Angeles County\"",
          "operation": "\"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema."
        },
        {
          "condition": "When the question mentions \"Los Angeles County\"",
          "operation": "\"Los Angeles County\" actually"
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about \"webpages for Los Angeles County schools\"\nOperation: make sure the output order: website.\n\nRule 2:\nCondition: When the question mentions \"Los Angeles County\"\nOperation: \"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema.\n\nRule 3:\nCondition: When the question mentions \"test takers\"\nOperation: \"test takers\" actually means \"NumTstTakr\" in schema.\n\nRule 4:\nCondition: When the question mentions \"Los Angeles County\"\nOperation: \"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema.\n\nRule 5:\nCondition: When the question mentions \"Los Angeles County\"\nOperation: \"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema.\n\nRule 6:\nCondition: When the question mentions \"Los Angeles County\"\nOperation: \"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema.\n\nRule 7:\nCondition: When the question mentions \"Los Angeles County\"\nOperation: \"Los Angeles County\" actually means \"County = 'Los Angeles'\" in schema.\n\nRule 8:\nCondition: When the question mentions \"Los Angeles County\"\nOperation: \"Los Angeles County\" actually",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.693978786468506
    },
    {
      "sample_id": 36,
      "question": "What is the average number of test takers from Fresno schools that opened between 1/1/1980 and 12/31/1980?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about average number of test takers",
          "operation": "use AVG(T1.NumTstTakr) from the satscores table instead of AVG(test_takers) from schools table."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about \"average number of test takers from Fresno schools\"",
          "operation": "make sure the output order: avg(NumTstTakr)."
        },
        {
          "condition": "When the question mentions \"Fresno schools\"",
          "operation": "\"Fresno\" actually means \"T1.County = 'Fresno'\" in schema."
        },
        {
          "condition": "When the question mentions \"opened between 1/1/1980 and 12/31/1980\"",
          "operation": "\"opened between 1/1/1980 and 12/31/1980\" actually means \"T1.OpenDate between '1980-01-01' and '1980-12-31'\" in schema."
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about \"average number of test takers from Fresno schools\"\nOperation: make sure the output order: avg(NumTstTakr).\n\nRule 2:\nCondition: When the question mentions \"Fresno schools\"\nOperation: \"Fresno\" actually means \"T1.County = 'Fresno'\" in schema.\n\nRule 3:\nCondition: When the question mentions \"opened between 1/1/1980 and 12/31/1980\"\nOperation: \"opened between 1/1/1980 and 12/31/1980\" actually means \"T1.OpenDate between '1980-01-01' and '1980-12-31'\" in schema.",
      "metrics": {
        "num_generated": 3,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 6.038829565048218
    },
    {
      "sample_id": 37,
      "question": "What is the telephone number for the school with the lowest average score in reading in Fresno Unified?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about telephone numbers for schools",
          "operation": "use T2.Phone from the schools table instead of telephone."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about \"telephone number for the school with the lowest average score in reading in Fresno Unified\"",
          "operation": "make sure the output order: T1.Phone."
        },
        {
          "condition": "When the question mentions \"Fresno Unified\"",
          "operation": "\"Fresno Unified\" actually means \"T2.District = 'Fresno Unified'\" in schema."
        },
        {
          "condition": "When the question asks for \"lowest average score in reading\"",
          "operation": "rank rows by T3.AvgScrRead in ascending order and keep the first 1 row."
        },
        {
          "condition": "When the question mentions \"Fresno Unified\"",
          "operation": "\"Fresno Unified\" actually means \"T2.District = 'Fresno Unified'\" in schema."
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about \"telephone number for the school with the lowest average score in reading in Fresno Unified\"\nOperation: make sure the output order: T1.Phone.\n\nRule 2:\nCondition: When the question mentions \"Fresno Unified\"\nOperation: \"Fresno Unified\" actually means \"T2.District = 'Fresno Unified'\" in schema.\n\nRule 3:\nCondition: When the question asks for \"lowest average score in reading\"\nOperation: rank rows by T3.AvgScrRead in ascending order and keep the first 1 row.\n\nRule 4:\nCondition: When the question mentions \"Fresno Unified\"\nOperation: \"Fresno Unified\" actually means \"T2.District = 'Fresno Unified'\" in schema.",
      "metrics": {
        "num_generated": 4,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 5.581766128540039
    },
    {
      "sample_id": 38,
      "question": "List the names of virtual schools that are among the top 5 in their respective counties based on average reading scores.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When the question asks for \"virtual schools\"",
          "operation": "use the exact literal 'F' for the \"Virtual\" column instead of 'virtual' for the \"type\" column."
        },
        {
          "condition": "When the question asks for school names",
          "operation": "return the \"School\" column instead of \"school_name\"."
        },
        {
          "condition": "When the question asks for school name",
          "operation": "use column alias \"School\" instead of \"school_name\"."
        },
        {
          "condition": "When the question asks for school name",
          "operation": "use column \"School\" instead of \"school_name\"."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"names of virtual schools\"",
          "operation": "use the exact column token \"school\" from the schools table instead of \"name\"."
        },
        {
          "condition": "When the question asks for \"names of virtual schools\"",
          "operation": "use the exact column token \"school\" from the schools table instead of \"name\"."
        },
        {
          "condition": "When the question asks for \"names of virtual schools\"",
          "operation": "use the exact column token \"school\" from the schools table instead of \"name\"."
        },
        {
          "condition": "When the question asks for \"names of virtual schools\"",
          "operation": "use the exact column token \"school\" from the schools table instead of \"name\"."
        },
        {
          "condition": "When the question asks for \"names of virtual schools\"",
          "operation": "use the exact column token \"school\" from the schools table instead of \"name\"."
        },
        {
          "condition": "When the question asks for \"names of virtual schools\"",
          "operation": "use the exact column token \"school\" from the schools table instead of \"name\"."
        },
        {
          "condition": "When the question asks for \"names of virtual schools\"",
          "operation": "use the exact column token \"school\" from the schools table instead of \"name\"."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"names of virtual schools\"\nOperation: use the exact column token \"school\" from the schools table instead of \"name\".\n\nRule 2:\nCondition: When the question asks for \"names of virtual schools\"\nOperation: use the exact column token \"school\" from the schools table instead of \"name\".\n\nRule 3:\nCondition: When the question asks for \"names of virtual schools\"\nOperation: use the exact column token \"school\" from the schools table instead of \"name\".\n\nRule 4:\nCondition: When the question asks for \"names of virtual schools\"\nOperation: use the exact column token \"school\" from the schools table instead of \"name\".\n\nRule 5:\nCondition: When the question asks for \"names of virtual schools\"\nOperation: use the exact column token \"school\" from the schools table instead of \"name\".\n\nRule 6:\nCondition: When the question asks for \"names of virtual schools\"\nOperation: use the exact column token \"school\" from the schools table instead of \"name\".\n\nRule 7:\nCondition: When the question asks for \"names of virtual schools\"\nOperation: use the exact column token \"school\" from the schools table instead of \"name\".\n\nRule 8:",
      "metrics": {
        "num_generated": 7,
        "num_ground_truth": 4,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.692450046539307
    },
    {
      "sample_id": 39,
      "question": "What is the type of education offered in the school who scored the highest average in Math?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"type of education offered in the school who scored the highest average in Math\"",
          "operation": "make sure the output order: T2.EdOpsName."
        },
        {
          "condition": "When the question mentions \"type of education\"",
          "operation": "\"type of education\" actually means \"T2.EdOpsName in schema\"."
        },
        {
          "condition": "When the question mentions \"highest average in Math\"",
          "operation": "\"highest average in Math\" actually means \"T1.AvgScrMath in schema\" and requires ordering by T1.AvgScrMath DESC."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"type of education offered\"",
          "operation": "use the exact column token \"EdOpsName\" from the schools table."
        },
        {
          "condition": "When the question asks for \"type of education offered\"",
          "operation": "use the exact column token \"EdOpsName\" from the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"type of education offered\"\nOperation: use the exact column token \"EdOpsName\" from the schools table.\n\nRule 2:\nCondition: When the question asks for \"type of education offered\"\nOperation: use the exact column token \"EdOpsName\" from the schools table.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.565749406814575
    },
    {
      "sample_id": 40,
      "question": "What is the average math score of the school with the lowest average score for all subjects, and in which county is it located?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about average math score and county location",
          "operation": "make sure the output order: T1.AvgScrMath, T2.County"
        },
        {
          "condition": "When the question mentions \"math score\"",
          "operation": "\"math score\" actually means \"T1.AvgScrMath in schema\""
        },
        {
          "condition": "When the question mentions \"county\"",
          "operation": "\"county\" actually means \"T2.County in schema\""
        },
        {
          "condition": "When the question asks for the school with the lowest average score for all subjects",
          "operation": "rank rows by T1.AvgScrMath + T1.AvgScrRead + T1.AvgScrWrite in ascending order and keep the first 1 row"
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"average math score\"",
          "operation": "use the exact column name \"AvgScrMath\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average math score\"",
          "operation": "use the exact column name \"AvgScrMath\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average math score\"",
          "operation": "use the exact column name \"AvgScrMath\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average math score\"",
          "operation": "use the exact column name \"AvgScrMath\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average math score\"",
          "operation": "use the exact column name \"AvgScrMath\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average math score\"",
          "operation": "use the exact column name \"AvgScrMath\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average math score\"",
          "operation": "use the exact column name \"AvgScrMath\" from the satscores table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"average math score\"\nOperation: use the exact column name \"AvgScrMath\" from the satscores table.\n\nRule 2:\nCondition: When the question asks for \"average math score\"\nOperation: use the exact column name \"AvgScrMath\" from the satscores table.\n\nRule 3:\nCondition: When the question asks for \"average math score\"\nOperation: use the exact column name \"AvgScrMath\" from the satscores table.\n\nRule 4:\nCondition: When the question asks for \"average math score\"\nOperation: use the exact column name \"AvgScrMath\" from the satscores table.\n\nRule 5:\nCondition: When the question asks for \"average math score\"\nOperation: use the exact column name \"AvgScrMath\" from the satscores table.\n\nRule 6:\nCondition: When the question asks for \"average math score\"\nOperation: use the exact column name \"AvgScrMath\" from the satscores table.\n\nRule 7:\nCondition: When the question asks for \"average math score\"\nOperation: use the exact column name \"AvgScrMath\" from the satscores table.\n\nRule 8:\nCondition: When the question asks for",
      "metrics": {
        "num_generated": 7,
        "num_ground_truth": 4,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.711856842041016
    },
    {
      "sample_id": 41,
      "question": "What is the average writing score of the school who has the highest number of test takers whose total SAT sscores are greater or equal to 1500? Indicate the city to where the school is situated.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about average writing score",
          "operation": "use T1.AvgScrWrite instead of AVG(writing_score)."
        },
        {
          "condition": "When answering about city location",
          "operation": "use T2.City instead of city."
        },
        {
          "condition": "When the question asks for the school with highest number of test takers with SAT scores >= 1500",
          "operation": "order by T1.NumGE1500 DESC instead of counting and filtering manually."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"average writing score\"",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average writing score\"",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average writing score\"",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average writing score\"",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average writing score\"",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average writing score\"",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for \"average writing score\"",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"average writing score\"\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 2:\nCondition: When the question asks for \"average writing score\"\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 3:\nCondition: When the question asks for \"average writing score\"\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 4:\nCondition: When the question asks for \"average writing score\"\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 5:\nCondition: When the question asks for \"average writing score\"\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 6:\nCondition: When the question asks for \"average writing score\"\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 7:\nCondition: When the question asks for \"average writing score\"\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 8:\nCondition: When the question asks for",
      "metrics": {
        "num_generated": 7,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.69924545288086
    },
    {
      "sample_id": 42,
      "question": "What is the average writing score of each of the schools managed by Ricci Ulrich? List the schools and the corresponding average writing scores.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools managed by Ricci Ulrich",
          "operation": "select T2.School and T1.AvgScrWrite as output columns."
        },
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the pre-computed average T1.AvgScrWrite instead of calculating an average from raw scores."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use the exact column name \"AvgScrWrite\" from the satscores table."
        },
        {
          "condition": "When the question asks for average writing scores",
          "operation": "use"
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for average writing scores\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 2:\nCondition: When the question asks for average writing scores\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 3:\nCondition: When the question asks for average writing scores\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 4:\nCondition: When the question asks for average writing scores\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 5:\nCondition: When the question asks for average writing scores\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 6:\nCondition: When the question asks for average writing scores\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 7:\nCondition: When the question asks for average writing scores\nOperation: use the exact column name \"AvgScrWrite\" from the satscores table.\n\nRule 8:\nCondition: When the question asks for average writing scores\nOperation: use",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 1,
        "condition_match": 1,
        "operation_match": 0
      },
      "processing_time": 8.696280002593994
    },
    {
      "sample_id": 43,
      "question": "Which state special schools have the highest number of enrollees from grades 1 through 12?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about state special schools",
          "operation": "filter schools where T2.DOC = 31 instead of using grade ranges."
        },
        {
          "condition": "When the question asks for highest number of enrollees",
          "operation": "rank schools by T1.\"Enrollment (K-12)\" in descending order and keep the top school."
        },
        {
          "condition": "When the question asks for state special schools",
          "operation": "filter T2.DOC to equal numeric value 31 exactly (not string '31')."
        },
        {
          "condition": "When selecting output columns for this question",
          "operation": "include only T2.School in the results, not the enrollment count itself."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"highest number of enrollees\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks for \"highest number of enrollees\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks for \"highest number of enrollees\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks for \"highest number of enrollees\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks for \"highest number of enrollees\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row."
        },
        {
          "condition": "When the question asks for \"highest number of enrollees\"",
          "operation": "rank rows by \"Enrollment (K-12)\" in descending order"
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"highest number of enrollees\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 2:\nCondition: When the question asks for \"highest number of enrollees\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 3:\nCondition: When the question asks for \"highest number of enrollees\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 4:\nCondition: When the question asks for \"highest number of enrollees\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 5:\nCondition: When the question asks for \"highest number of enrollees\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order and keep the first 1 row.\n\nRule 6:\nCondition: When the question asks for \"highest number of enrollees\"\nOperation: rank rows by \"Enrollment (K-12)\" in descending order",
      "metrics": {
        "num_generated": 6,
        "num_ground_truth": 4,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.690819263458252
    },
    {
      "sample_id": 44,
      "question": "What is the ratio of merged Unified School District schools in Orange County to merged Elementary School District schools?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When the question asks for a ratio of merged Unified School District schools to merged Elementary School District schools in Orange County",
          "operation": "use SUM(CASE WHEN DOC = 54 THEN 1 ELSE 0 END) for Unified School District count and SUM(CASE WHEN DOC = 52 THEN 1 ELSE 0 END) for Elementary School District count."
        },
        {
          "condition": "When performing division to calculate the ratio",
          "operation": "use explicit CAST(... AS REAL) to ensure proper numeric division instead of relying on implicit casting."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"ratio\"",
          "operation": "compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion."
        },
        {
          "condition": "When the question asks for \"ratio\"",
          "operation": "compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion."
        },
        {
          "condition": "When the question asks for \"ratio\"",
          "operation": "compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion."
        },
        {
          "condition": "When the question asks for \"ratio\"",
          "operation": "compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion."
        },
        {
          "condition": "When the question asks for \"ratio\"",
          "operation": "compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion."
        },
        {
          "condition": "When the question asks for \"ratio\"",
          "operation": "compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"ratio\"\nOperation: compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion.\n\nRule 2:\nCondition: When the question asks for \"ratio\"\nOperation: compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion.\n\nRule 3:\nCondition: When the question asks for \"ratio\"\nOperation: compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion.\n\nRule 4:\nCondition: When the question asks for \"ratio\"\nOperation: compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion.\n\nRule 5:\nCondition: When the question asks for \"ratio\"\nOperation: compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion.\n\nRule 6:\nCondition: When the question asks for \"ratio\"\nOperation: compute the number of rows using count(*) and divide by the total number of rows using count(*) to get the proportion.\n\nRule 7:\nCondition: When the question asks for \"ratio\"\nOperation:",
      "metrics": {
        "num_generated": 6,
        "num_ground_truth": 2,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.691325902938843
    },
    {
      "sample_id": 45,
      "question": "Which different county has the most number of closed schools? Please provide the name of each school as well as the closure date.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"different county has the most number of closed schools\"",
          "operation": "use a subquery to find the county with the maximum count of closed schools instead of direct grouping in the main query."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for \"name of each school\"",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for \"closure date\"",
          "operation": "use the exact column token \"closeddate\" from the schools table."
        },
        {
          "condition": "When the question asks for \"name of each school\"",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for \"name of each school\"",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for \"name of each school\"",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for \"name of each school\"",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for \"name of each school\"",
          "operation": "use the exact column token \"school\" from the schools table."
        },
        {
          "condition": "When the question asks for \"name of each school\"",
          "operation": "use the exact column token \"school\" from the schools table.\n\nRule"
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for \"name of each school\"\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 2:\nCondition: When the question asks for \"closure date\"\nOperation: use the exact column token \"closeddate\" from the schools table.\n\nRule 3:\nCondition: When the question asks for \"name of each school\"\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 4:\nCondition: When the question asks for \"name of each school\"\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 5:\nCondition: When the question asks for \"name of each school\"\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 6:\nCondition: When the question asks for \"name of each school\"\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 7:\nCondition: When the question asks for \"name of each school\"\nOperation: use the exact column token \"school\" from the schools table.\n\nRule 8:\nCondition: When the question asks for \"name of each school\"\nOperation: use the exact column token \"school\" from the schools table.\n\nRule",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.694615364074707
    },
    {
      "sample_id": 46,
      "question": "What is the postal street address for the school with the 7th highest Math average? Indicate the school's name.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"postal street address\" and \"school name\" for schools ranked by math average",
          "operation": "select T2.MailStreet and T2.School as output columns."
        },
        {
          "condition": "When the question asks for the 7th highest math average",
          "operation": "rank rows by T1.AvgScrMath in descending order and take the row at position 7 (using LIMIT 6, 1)."
        },
        {
          "condition": "When answering about \"postal street address for the school with the 7th highest Math average\"",
          "operation": "make sure the output order: T2.MailStreet, T2.School"
        },
        {
          "condition": "When the question asks for the 7th highest Math average",
          "operation": "rank rows by T1.AvgScrMath in descending order and take the row at position 7 (using LIMIT 6, 1 to skip first 6 rows and take 1 row)"
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for the school with the 7th highest Math average",
          "operation": "rank rows by \"AvgScrMath\" in descending order and keep the 7th row."
        },
        {
          "condition": "When the question asks for postal street address",
          "operation": "use the exact column token \"mailstreet\" from the schools table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for the school with the 7th highest Math average\nOperation: rank rows by \"AvgScrMath\" in descending order and keep the 7th row.\n\nRule 2:\nCondition: When the question asks for postal street address\nOperation: use the exact column token \"mailstreet\" from the schools table.",
      "metrics": {
        "num_generated": 2,
        "num_ground_truth": 4,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 2.7677650451660156
    },
    {
      "sample_id": 47,
      "question": "In which mailing street address can you find the school that has the lowest average score in reading? Also give the school's name.",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about school addresses and reading scores",
          "operation": "combine tables satscores as T1 and schools as T2 using inner match where T1.cds equals T2.CDSCode."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for the school with the lowest average score in reading",
          "operation": "use the \"satscores\" table instead of the \"students\" table."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for the school with the lowest average score in reading\nOperation: use the \"satscores\" table instead of the \"students\" table.",
      "metrics": {
        "num_generated": 1,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 1.621690034866333
    },
    {
      "sample_id": 48,
      "question": "What is the total number of schools whose total SAT scores are greater or equal to 1500 whose mailing city is Lakeport?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about schools with SAT scores",
          "operation": "join \"satscores\" as T1 with \"schools\" as T2 where T1.cds equals T2.CDSCode to combine SAT and school information."
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about schools with SAT scores ≥ 1500 and mailing city = Lakeport",
          "operation": "make sure the output order: count of schools."
        },
        {
          "condition": "When the question mentions \"mailing city\"",
          "operation": "\"mailing city\" actually means \"mailcity\" in the schools table."
        },
        {
          "condition": "When the question mentions \"mailing city\"",
          "operation": "\"mailing city\" actually means \"mailcity\" in the schools table."
        },
        {
          "condition": "When the question mentions \"mailing city\"",
          "operation": "\"mailing city\" actually means \"mailcity\" in the schools table."
        },
        {
          "condition": "When the question mentions \"mailing city\"",
          "operation": "\"mailing city\" actually means \"mailcity\" in the schools table."
        },
        {
          "condition": "When the question mentions \"mailing city\"",
          "operation": "\"mailing city\" actually means \"mailcity\" in the schools table."
        },
        {
          "condition": "When the question mentions \"mailing city\"",
          "operation": "\"mailing city\" actually means \"mailcity\" in the schools table."
        },
        {
          "condition": "When the question mentions \"mailing city\"",
          "operation": "\"mailing"
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about schools with SAT scores ≥ 1500 and mailing city = Lakeport\nOperation: make sure the output order: count of schools.\n\nRule 2:\nCondition: When the question mentions \"mailing city\"\nOperation: \"mailing city\" actually means \"mailcity\" in the schools table.\n\nRule 3:\nCondition: When the question mentions \"mailing city\"\nOperation: \"mailing city\" actually means \"mailcity\" in the schools table.\n\nRule 4:\nCondition: When the question mentions \"mailing city\"\nOperation: \"mailing city\" actually means \"mailcity\" in the schools table.\n\nRule 5:\nCondition: When the question mentions \"mailing city\"\nOperation: \"mailing city\" actually means \"mailcity\" in the schools table.\n\nRule 6:\nCondition: When the question mentions \"mailing city\"\nOperation: \"mailing city\" actually means \"mailcity\" in the schools table.\n\nRule 7:\nCondition: When the question mentions \"mailing city\"\nOperation: \"mailing city\" actually means \"mailcity\" in the schools table.\n\nRule 8:\nCondition: When the question mentions \"mailing city\"\nOperation: \"mailing",
      "metrics": {
        "num_generated": 8,
        "num_ground_truth": 1,
        "exact_match": 0,
        "partial_match": 0,
        "condition_match": 0,
        "operation_match": 0
      },
      "processing_time": 8.693382740020752
    },
    {
      "sample_id": 49,
      "question": "How many test takers are there at the school/s whose mailing city address is in Fresno?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When answering about \"test takers at schools in Fresno\"",
          "operation": "make sure the output order: T1.NumTstTakr"
        },
        {
          "condition": "When the question mentions \"test takers\"",
          "operation": "\"test takers\" actually means \"T1.NumTstTakr in schema\""
        },
        {
          "condition": "When the question mentions \"mailing city address is in Fresno\"",
          "operation": "\"mailing city address\" actually means \"T2.MailCity in schema\" and use exact literal 'Fresno'"
        }
      ],
      "generated_rules": [
        {
          "condition": "When answering about \"test takers at schools in Fresno\"",
          "operation": "make sure the output order: sum(\"NumTstTakr\")."
        },
        {
          "condition": "When the question mentions \"mailing city address\"",
          "operation": "\"mailing city address\" actually means \"mailcity in schools table\"."
        },
        {
          "condition": "When the question asks for \"count of test takers\"",
          "operation": "compute the sum of \"NumTstTakr\" instead of counting rows."
        }
      ],
      "model_response": "Rule 1:\nCondition: When answering about \"test takers at schools in Fresno\"\nOperation: make sure the output order: sum(\"NumTstTakr\").\n\nRule 2:\nCondition: When the question mentions \"mailing city address\"\nOperation: \"mailing city address\" actually means \"mailcity in schools table\".\n\nRule 3:\nCondition: When the question asks for \"count of test takers\"\nOperation: compute the sum of \"NumTstTakr\" instead of counting rows.",
      "metrics": {
        "num_generated": 3,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 1,
        "condition_match": 1,
        "operation_match": 0
      },
      "processing_time": 3.7843663692474365
    },
    {
      "sample_id": 50,
      "question": "Of the schools with a mailing state address in California, what is the ratio of the schools located in the county of Colusa against the school located in the county of Humboldt?",
      "db_id": "california_schools",
      "ground_truth_rules": [
        {
          "condition": "When the question mentions \"mailing state address in California\"",
          "operation": "use the exact literal 'CA' instead of 'California' and reference the column \"MailState\" exactly as shown in the schema."
        },
        {
          "condition": "When referencing column names",
          "operation": "use exact identifiers \"FundingType\" and \"County\" instead of lowercase versions."
        },
        {
          "condition": "When referencing column names",
          "operation": "use backtick-quoted `Examination Date` and `Diagnosis` exactly as specified in the schema."
        }
      ],
      "generated_rules": [
        {
          "condition": "When the question asks for a ratio of schools",
          "operation": "compute the count of schools in each county group and divide the counts using the specified grouping logic."
        },
        {
          "condition": "When the question mentions \"mailing state address in California\"",
          "operation": "filter rows where \"mailstate\" equals exactly 'California'."
        },
        {
          "condition": "When the question asks for a ratio of schools",
          "operation": "compute the count of schools in each county group and divide the counts using the specified grouping logic."
        }
      ],
      "model_response": "Rule 1:\nCondition: When the question asks for a ratio of schools\nOperation: compute the count of schools in each county group and divide the counts using the specified grouping logic.\n\nRule 2:\nCondition: When the question mentions \"mailing state address in California\"\nOperation: filter rows where \"mailstate\" equals exactly 'California'.\n\nRule 3:\nCondition: When the question asks for a ratio of schools\nOperation: compute the count of schools in each county group and divide the counts using the specified grouping logic.",
      "metrics": {
        "num_generated": 3,
        "num_ground_truth": 3,
        "exact_match": 0,
        "partial_match": 1,
        "condition_match": 1,
        "operation_match": 0
      },
      "processing_time": 3.8202273845672607
    }
  ]
}